{
    "@context": [
        "https://docs.ddialliance.org/DDI-CDI/1.0/model/encoding/json-ld/ddi-cdi.jsonld",
        {
            "schema": "https://schema.org/",
            "dcterms": "http://purl.org/dc/terms/",
            "geosparql": "http://www.opengis.net/ont/geosparql#",
            "spdx": "http://spdx.org/rdf/terms#",
            "cdi": "http://ddialliance.org/Specification/DDI-CDI/1.0/RDF/",
            "time": "http://www.w3.org/2006/time#"
        }
    ],
    "@id": "xas:fe_c3d.001",
    "@type": [
        "schema:Dataset",
        "schema:Product"
    ],
    "schema:name": "X-ray fluorescence spectra for K edge, Iron c3d",
    "schema:description": "metadata example based on NEXUS NXxas file.",
    "schema:identifier": "https://doi.org/10.xxxxx/fe_c3d001",
    "schema:contributor": [
        {
            "@type": "schema:Role",
            "schema:roleName": "Facility",
            "schema:contributor": {
                "@type": "schema:Organization",
                "@id": "https://ror.org/aps",
                "schema:name": "APS",
                "schema:identifier": "https://ror.org/aps"
            }
        }
    ],
    "schema:license": ["To be FAIR must include license/usage constraint information"],
    "schema:distribution": [
        {
            "@type": "schema:DataDownload",
            "schema:contentUrl": "https://millenia.cars.aps.anl.gov/nxxas/MultiSpectrumFiles/FeXAS.nxs",
            "schema:description": "HDF5 file declared to conform with NEXUS NXxas application definition; the described data is one NEXUS entry in this file, which contains 26 total spectra, each as separate NEXUS entry",
            "spdx:checksum": {
                "@type": "spdx:Checksum",
                "spdx:algorithm": "spdx:checksumAlgorithm_md5",
                "spdx:checksumValue": "0BA77A348"
            },
            "schema:contentSize": "2.6 Mb",
            "schema:encodingFormat": ["application/x-hdf5"],
            "dcterms:conformsTo": ["nexus v2024.02"],
            "DDICDIModels": [
                {
                    "@id": "xas:xdiDataLayout",
                    "@type": "PhysicalSegmentLayout",
                    "formats": "nxxaslogicalRecord",
                    "QUESTION": "what do we put here for an hdf5 dataset??"
                },
                {
                    "@id": "xas:nxxasDataStore",
                    "@type": "DataStore",
                    "has_LogicalRecord": {
                        "@id": "nxxaslogicalRecord",
                        "@type": "LogicalRecord",
                        "organizes": {
                            "@id": "xas:nxxasfec3d001structure",
                            "@type": "DimensionalDataSet",
                            "isStructuredBy": {
                                "@type": "DimensionalDataStructure",
                                "has_DataStructureComponent": [
                                    {
                                        "@type": "DimensionComponent",
                                        "isDefinedBy_RepresentedVariable": "xas:monochromatorEnergy",
                                        "xas:hdf5path": "Fe_c3d.001/instrument/monochromator/energy",
                                        "xas:dimension": 1,
                                        "xas:shape": [443]
                                    },
                                    {
                                        "@type": "DimensionComponent",
                                        "isDefinedBy_RepresentedVariable": "xas:incidentIntensity",
                                        "xas:hdf5path": "Fe_c3d.001/instrument/i0/data",
                                        "xas:dimension": 1,
                                        "xas:shape": [443]
                                    },
                                    {
                                        "@type": "MeasureComponent",
                                        "isDefinedBy_RepresentedVariable": "xas:fluorescenceintensity",
                                        "xas:hdf5path": "Fe_c3d.001/instrument/ifluor/data",
                                        "xas:dimension": 1,
                                        "xas:shape": [443]
                                    },
                                    {
                                        "@type": "MeasureComponent",
                                        "isDefinedBy_RepresentedVariable": "xas:mufluorescence",
                                        "xas:hdf5path": "Fe_c3d.001/data/mufluor",
                                        "xas:dimension": 1,
                                        "xas:shape": [443]
                                    },
                                    {
                                        "@type":"WideDataStructure" ,
                                        "@id":"xas:fec3d001RawData",
                                        "xas:hdf5path": "Fe_c3d.001/scan/data",
                                        "xas:dimension": 2,
                                        "xas:shape": [443, 35],
                                        "schema:description":"this is the raw data in an array, represented here as a 35 column table with 443 rows, one for each step in the scan. The columns are described here as components in this wide data structure. In the hdf5 file, we only have column labels in a dataset at Fe_c3d.001/scan/column_labels. Use h5dump to get the column labels: 'energy', 'tscaler', 'i0', 'i1', 'i2', 'sum_outputcounts','sum_fe_ka', 'outputcounts_mca1', 'outputcounts_mca2', 'outputcounts_mca3', 'outputcounts_mca4', 'outputcounts_mca5','outputcounts_mca6', 'outputcounts_mca7', 'fe_ka_mca1', 'fe_ka_mca2', 'fe_ka_mca3', 'fe_ka_mca4', 'fe_ka_mca5','fe_ka_mca6', 'fe_ka_mca7', 'clock_mca1', 'clock_mca2', 'clock_mca3', 'clock_mca4', 'clock_mca5', 'clock_mca6', 'clock_mca7', 'dtfactor_mca1', 'dtfactor_mca2', 'dtfactor_mca3', 'dtfactor_mca4', 'dtfactor_mca5', 'dtfactor_mca6', 'dtfactor_mca7'.  These would all need to be described as instance_variables and defined as dataStureceComponents in the scan table, only the first one is included here for brevity (and lack of information...",
                                        "has_DataStructureComponent": [
                                            {
                                                "@type": "identifierComponent",
                                                "isDefinedBy_RepresentedVariable": "xas:monochromatorEnergy",
                                                "has_ValueMappingPosition": {
                                                    "@type": "ValueMappingPosition",
                                                    "column":0
                                                },
                                                "cdi:name": "energy"
                                            }
                                            ]
                                        }
                                ]
                            }
                        }
                    }
                }
            ]
        }
    ],
    "schema:measurementTechnique": {
        "@type": "schema:DefinedTerm",
        "schema:name": "X-Ray Absorption Spectroscopy",
        "schema:termCode": "XAS",
        "schema:identifier": "https://w3id.org/geochem/1.0/analyticalmethod/xrayabsorptionspectrometry",
        "schema:inDefinedTermSet": "https://w3id.org/geochem/1.0/analyticalmethod/method"
    },
    "schema:keywords": [
        {
            "@type": "schema:DefinedTerm",
            "schema:name": "K-edge",
            "schema:termCode": "K",
            "schema:identifier": "https://xas.org/vocab/absorptionedge/k",
            "schema:inDefinedTermSet": "https://xas.org/vocab/absorptionedge"
        },
        {
            "@type": "schema:DefinedTerm",
            "schema:name": "Iron",
            "schema:termCode": "Fe",
            "schema:identifier": "URI for iron (CCPAC?)",
            "schema:inDefinedTermSet": "URI for element vocabualry"
        }
    ],
    "prov:wasGeneratedBy": {
        "@type": [
            "Event",
            "xas:analysisEvent"
        ],
        "schema:identifier": "not defined",
        "schema:startDate": "2020-08-12 04:34:49",
        "xas:instrument": [
            {
                "@type": "schema:Thing",
                "schema:additionalType": "xas:Beamline",
                "schema:name": "13-ID-E",
                "schema:identifier": "should have a registry with URIs",
                "schema:additionalProperty": [
                    {
                        "@type": "schema:PropertyValue",
                        "schema:propertyID": "xas:harmonic_rejection",
                        "schema:name": "harmonic_rejection",
                        "schema:value": "2 Si mirrors, 3 mrad"
                    }
                ]
            },
            {
                "@type": "schema:Thing",
                "schema:additionalType": "xas:Monochromator",
                "schema:name": "Si 311",
                "schema:description":"have to pull the diffracting plane from  Fe_c3d.001/instrument/monochromator/crystal/reflection which is a three element array",
                "schema:additionalProperty": [
                    {
                        "@type": "schema:PropertyValue",
                        "schema:propertyID": "d_spacing",
                        "schema:value": "1.637514293384398",
                        "schema:unitText": "Angstroms"
                    }
                ]
            }
        ],
        "schema:additionalProperty": [
            {
                "@type": "schema:PropertyValue",
                "schema:propertyID": "edge_energy",
                "schema:value": "7112.000",
                "schema:unitText": "???"
            }
        ],
        "schema:location": {
            "@type": "schema:Place",
            "schema:additionalType": "xas:Facility",
            "schema:identifier": "https://ror.org/aps",
            "schema:name": "APS",
            "schema:additionalProperty": [
                {
                    "@type": "schema:PropertyValue",
                    "schema:propertyID": "energy",
                    "schema:value": "7.00",
                    "schema:unitText": "GeV"
                },
                {
                    "@type": "schema:PropertyValue",
                    "schema:propertyID": "xray_source",
                    "schema:value": "undulator 36mm, 66 poles"
                }
            ]
        },
        "schema:mainEntity": {
            "@type": "schema:Thing",
            "schema:additionalType": "MaterialSample",
            "schema:description": "no information"
        }
    },
    "schema:variableMeasured": [
        {
            "@id": "xas:monochromatorEnergy",
            "@type": [
                "InstanceVariable",
                "schema:PropertyValue"
            ],
            "schema:name": "energy",
            "schame:alternateName": ["Monochromator energy","mono energy"],
            "schema:description": "add definition of what this variable is about (maybe even an iAdopt description)",
            "schema:propertyID": "identifier for incident energy property concept",
            "schema:unitText": "eV",
            "identifier": "should be URI from nexusFormat organization",
            "physicalDataType": {
                "@type": "ControlledVocabularyEntry",
                "entryValue": "https://www.w3.org/TR/xmlschema-2/#decimal"
            },
            "simpleUnitOfMeasure": "eV",
            "name": {
                "@type": "ObjectName",
                "name": "energy"
            },
            "displayLabel": {
                "@type": "LabelForDisplay",
                "locationVariant": {
                    "@type": "ControlledVocabularyEntry",
                    "entryValue": "monochromator energy"
                }
            }
        },
        {
            "@id": "xas:incidentIntensity",
            "@type": [
                "InstanceVariable",
                "schema:PropertyValue"
            ],
            "schema:name": "i0",
            "schema:alternateName": "Monitor intensity",
            "schema:description": "missing, definition of what this variable is about (maybe even an iAdopt description)",
            "schema:propertyID": "identifier for incident intensity property concept",
            "schema:unitText": "counts",
            "identifier": "should be URI from nexusFormat organization",
            "physicalDataType": {
                "@type": "ControlledVocabularyEntry",
                "entryValue": "https://www.w3.org/TR/xmlschema-2/#positiveInteger"
            },
            "name": {
                "@type": "ObjectName",
                "name": "i0"
            },
            "displayLabel": {
                "@type": "LabelForDisplay",
                "locationVariant": {
                    "@type": "ControlledVocabularyEntry",
                    "entryValue": "monitor intensity"
                }
            }
        },
        {
            "@id": "xas:fluorescenceIntensity",
            "@type": [
                "InstanceVariable",
                "schema:PropertyValue"
            ],
            "schema:description": "missing, definition of what this variable is about (maybe even an iAdopt description",
            "schema:propertyID": "identifier for fluorescence intensity property concept",
            "schema:unitText": "counts",
            "schema:name": "ifluor",
            "schema:alternateName": "fluorescence intensity",
            "physicalDataType": {
                "@type": "ControlledVocabularyEntry",
                "entryValue": "https://www.w3.org/TR/xmlschema-2/#decimal"
            },
            "identifier": "should be URI from nexusFormat organization",
            "name": {
                "@type": "ObjectName",
                "name": "ifluor"
            },
            "displayLabel": {
                "@type": "LabelForDisplay",
                "locationVariant": {
                    "@type": "ControlledVocabularyEntry",
                    "entryValue": "fluorescence intensity"
                }
            }
        },
        {
            "@id": "xas:mufluorescence",
            "@type": [
                "InstanceVariable",
                "schema:PropertyValue"
            ],
            "schema:description": "The absorption coefficient μ(E) as measured indirectly from the fluorescent X-rays emitted by the sample instead of from the transmitted beam. (ChatGPT)",
            "schema:propertyID": "identifier for fluorescence absorption coefficient concept",
            "schema:unitText": "unitless",
            "schema:name": "mufluor",
            "schema:alternateName": "mu fluorescence",
            "physicalDataType": {
                "@type": "ControlledVocabularyEntry",
                "entryValue": "https://www.w3.org/TR/xmlschema-2/#decimal"
            },
            "identifier": "should be URI from nexusFormat organization",
            "name": {
                "@type": "ObjectName",
                "name": "mufluor"
            },
            "displayLabel": {
                "@type": "LabelForDisplay",
                "locationVariant": {
                    "@type": "ControlledVocabularyEntry",
                    "entryValue": "mu(μ) fluorescence"
                }
            }
        }
    ],
    "schema:subjectOf": {
        "@id": "xas:metadata.fe_c3d.001",
        "@type": "schema:Dataset",
        "schema:dateModified": "2025-08-15",
        "schema:creator": [
            {
                "@id": "https://ada.org/person/3479",
                "@type": "schema:Person",
                "schema:name": "Richard, Stephen M.",
                "schema:identifier": "https://orcid.org/0000-0002-7933-2154",
                "schema:email": "smrTucson@email.org"
            }
        ],
        "schema:about": "xas:fe_c3d.001",
        "schema:description": "metadata about documentation for fe_c3d.001",
        "dcterms:conformsTo": [
            {"@id": "CDIF_basic_1.0"},
            {"@id": "xas:nxxasCDIF"}
        ]
    }
}